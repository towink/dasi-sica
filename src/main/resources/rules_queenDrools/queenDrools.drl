package com.sica.agents

import com.sica.entities.agents.DroolsBee;
import com.sica.modules.queenBee.QueenDrools;
import com.sica.simulation.SimulationState;
import com.sica.modules.queenBee.ObjectiveCreateBee;
import com.sica.modules.queenBee.ObjectiveWait2Create;
import sim.util.Int2D;

rule "Create bees"
	when
		state : SimulationState()
		queen : QueenDrools(location : getLocation(), state.getConfig().getTime2Create() <= getCount() && getAvailableFood() >= state.getConfig().getCost2Create());
	then
		queen.addObjective(new ObjectiveCreateBee());
end

rule "Increase count to generate bees"
	salience -10
	when
		$state : SimulationState()
		queen : QueenDrools($state.getConfig().getTime2Create() > getCount() && !waiting)
	then
		queen.waiting = true;
		queen.addObjective(new ObjectiveWait2Create ());
end